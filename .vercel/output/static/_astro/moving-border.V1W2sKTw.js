import{j as o}from"./jsx-runtime.B6N9iRLn.js";import{r as c}from"./index.DNi1g-pO.js";import{c as m}from"./cn.tCEEUih2.js";import{a as b,b as v,u as p}from"./use-transform.CmTEcdgp.js";import{i as x,M as j,f as w,c as y}from"./VisualElement.xl9K9bcv.js";import{m as M}from"./motion.BhgqN-i7.js";function N(e,...r){const i=e.length;function a(){let s="";for(let t=0;t<i;t++){s+=e[t];const n=r[t];n&&(s+=x(n)?n.get():n)}return s}return b(r.filter(x),a)}function R(e){const r=c.useRef(0),{isStatic:i}=c.useContext(j);c.useEffect(()=>{if(i)return;const a=({timestamp:s,delta:t})=>{r.current||(r.current=s),e(s-r.current,t)};return w.update(a,!0),()=>y(a)},[e])}function L({borderRadius:e="0.75rem",children:r,as:i="button",containerClassName:a,borderClassName:s,duration:t,className:n,...u}){return o.jsxs(i,{className:m("bg-transparent relative text-base md:text-l  h-10 w-max p-[1px] overflow-hidden cursor-default",a),style:{borderRadius:e},...u,children:[o.jsx("div",{className:"absolute inset-0",style:{borderRadius:`calc(${e} * 0.96)`},children:o.jsx(T,{duration:t,rx:"30%",ry:"30%",children:o.jsx("div",{className:m("h-20 w-20 opacity-[0.8] bg-[radial-gradient(var(--green-500)_40%,transparent_60%)]",s)})})}),o.jsx("div",{className:m("relative bg-slate-900/[0.8] border border-slate-800 backdrop-blur-xl text-white flex items-center justify-center w-full h-full  antialiased px-s py-xs",n),style:{borderRadius:`calc(${e} * 0.96)`},children:r})]})}const T=({children:e,duration:r=2e3,rx:i,ry:a,...s})=>{const t=c.useRef(),n=v(0);R(l=>{const f=t.current?.getTotalLength();if(f){const h=f/r;n.set(l*h%f)}});const u=p(n,l=>t.current?.getPointAtLength(l).x),d=p(n,l=>t.current?.getPointAtLength(l).y),g=N`translateX(${u}px) translateY(${d}px) translateX(-50%) translateY(-50%)`;return o.jsxs(o.Fragment,{children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",className:"absolute h-full w-full",width:"100%",height:"100%",...s,children:o.jsx("rect",{fill:"none",width:"100%",height:"100%",rx:i,ry:a,ref:t})}),o.jsx(M.div,{style:{position:"absolute",top:0,left:0,display:"inline-block",transform:g},children:e})]})};export{L as MovingBorderWrapper};
