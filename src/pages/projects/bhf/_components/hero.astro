---
import { Section } from "@/components/ui/section";
import { MovingBorderWrapper } from "@/components/ui/moving-border";
import HeroOverlay from "../_assets/bhf-hero-original.webp";
import { Image } from "astro:assets";
import { Roles } from "@/config/validations/project-schema";
// import { isSafari } from "@/utils";

import ProjectTools from "@/pages/_components/project/project-tools.astro";

const projectRoles = [
  "chief-architect",
  "fullstack",
  "database-admin",
  "uiux",
  // "frontend",
  // "backend",
  "project-manager",
  "prototyper",
];

const projectTools = [
  "react",
  "tailwind",
  "typescript",
  "figma",
  "nextjs",
  "c",
  "sqlserver",
  "js",
  "docker",
  "swagger",
  "filemaker",
];

const roles = projectRoles.map((roleKey) => {
  // @ts-expect-error
  return Roles.get(roleKey);
});
---

<Section
  client:visible
  idName="hero"
  parallax
  skipRoundCorners
  margin="none"
  padding="none"
  backgroundColor="bgColor"
  minHeight="120svh"
  className=" bg-bgColor relative flex flex-col items-center justify-center  gap-5xl sm:p-3xl "
>
  <Image
    src={HeroOverlay}
    format="webp"
    loading="eager"
    quality="high"
    alt="Brtiannica's home fashions hero"
    class="absolute inset-0 opacity-40 -z-10 bg-bgColor object-cover grid justify-stretch items-stretch transition-opacity duration-200 [transform:translateZ(0)] w-full h-full sm:w-fit sm:h-fit"
  />
  <div
    class="flex flex-col gap-m sm:justify-center items-center max-w-sm sm:max-w-3xl sm:mx-auto px-l sm:px-0"
  >
    <MovingBorderWrapper client:visible>
      ERP System
    </MovingBorderWrapper>
    <h3 class="text-center">
      Revolutionizing <span class=""
        >Britannica Home Fashions</span
      >: A custom ERP Journey
    </h3>
    <p class="text-center">
      As the principal developer and architect, I drove the
      creation of a custom ERP system that transformed
      Britannica Home Fashions' global operations. This case
      study showcases how we built a scalable, efficient,
      and user-centric platform that propelled BHF into a
      new era of digital excellence
    </p>
    <div
      class="mt-2xl flex flex-row gap-m flex-wrap items-center justify-center"
    >
      {
        roles?.map((role) => (
          <span class="w-max  py-xs px-s after:corners relative after:bg-bgColor">
            {role}
          </span>
        ))
      }
    </div>
    <div class="max-w-xl mt-xl">
      <ProjectTools
        toolKeys={projectTools}
        rows={1}
        perRow={20}
        transparent
      />
    </div>
  </div>
</Section>
